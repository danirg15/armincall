<nav-bar></nav-bar>

<div class="container">

<div class="page-header">
    <h2>Demos</h2>
</div>

<a routerLink="/demos/new" class="btn btn-primary btn-sm float-right">
    <i class="icon ion-ios-plus-outline" aria-hidden="true"></i> Nueva Demo
</a> 

<ul class="nav nav-tabs">
    <li class="nav-item" (click)="loadPendingDemos()">
        <a class="nav-link active" data-toggle="tab" aria-expanded="true">Demos Pendientes</a>
    </li>
    <li class="nav-item" (click)="loadDemosHistory()">
        <a class="nav-link" data-toggle="tab" aria-expanded="false">Historial</a>
    </li>
</ul>

<br><br>

<table class="table table-striped table-hover ">
    <thead class="thead-inverse">
        <tr>
            <th>Taller</th>
            <th>Contacto</th>
            <th>Teléfono</th>
            <th>Descripción</th>
            <th>Comentarios</th>
            <th>Fecha/Hora</th>
            <th>Operador</th>
            <th [hidden]="discardButtonHidden">Acción</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let demo of demos">
            <td>{{ demo.workshop_name }} ({{ demo.distributor }})</td>
            <td>{{ demo.contact }}</td>
            <td>{{ demo.phone }}</td>
            <td>{{ demo.description }}</td>
            <td>{{ demo.comments }}</td>
            <td>
                <span data-toggle="tooltip" data-placement="top" title="{{ demo.ISODate | humanizeDate }}">
                    {{ demo.ISODate | diffForHumans }}
                </span>
            </td>
            <td>{{ demo.owner?.name }}</td>
            <td>
                <span [hidden]="discardButtonHidden" class="white">
                    <a class="btn btn-warning btn-sm" [routerLink]="['/demos/new', demo._id]">
                        <i class="icon ion-compose" aria-hidden="true"></i> Editar
                    </a>
                </span>
                <span [hidden]="discardButtonHidden" class="white">
                    <a class="btn btn-danger btn-sm" (click)="delete(demo)">
                        <i  class="icon ion-ios-trash" aria-hidden="true"></i> Eliminar
                    </a>
                </span>
            </td>
        </tr>
    </tbody>
</table> 

<go-back></go-back>

</div>