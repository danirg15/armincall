<div class="page-header">
    <h2>Llamadas</h2>
</div>

<ul class="nav nav-tabs">
    <li class="active"><a href="#home" data-toggle="tab" aria-expanded="true">Llamadas Pendientes</a></li>
    <li class=""><a href="#profile" data-toggle="tab" aria-expanded="false">Historial</a></li>
</ul>

<br><br>

<table class="table table-striped table-hover ">
    <thead>
        <tr>
            <th></th>
            <th>Taller</th>
            <th>Emisor</th>
            <th>Receptor</th>
            <th>Fecha/Hora</th>
            <th>Duración</th>
            <th>Estado</th>
            <th>Acción</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let call of calls">
            <td>
                <div class="checkbox">
                    <label>
                        <input type="checkbox" value="" (change)="select($event, call)" />
                    </label>
                </div>
            </td>
            <td> 
                <a [routerLink]="['/workshops', 111]"> 
                    {{call.workshop?.name}} 
                </a> 
            </td>
            <td>{{call.caller_number}}</td>
            <td>{{call.reciever_number}}</td>
            <td>{{call.date | diffForHumans}}</td>
            <td>{{call.durationInSeconds | durationForHumans}}</td>
            <td>{{call.status}}</td>
            <td>
                <a class="btn btn-warning btn-sm" (click)="discard(call)">
                    Descartar
                </a>
            </td>
        </tr>
    </tbody>
</table> 


<modal #incommingCallModal 
        title="Llamada entrante"
        cancelButtonLabel="cancel"
        submitButtonLabel="submit"
        modalClass="modal-lg"
        [hideCloseButton]="false"
        [closeOnEscape]="true"
        [closeOnOutsideClick]="true"
>

    <modal-header>
        <h1 class="text-center">{{incommingCall.workshop?.name}}</h1>
    </modal-header>

    <modal-content>

        <div class="row">
            <div class="col-md-5">  
                <form class="form-horizontal">
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Contacto:</label>
                        <div class="col-lg-9">
                            <input type="text" class="form-control" readonly 
                            value="{{incommingCall.workshop?.contact}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Distribuidor:</label>
                        <div class="col-lg-9">
                            <input type="text" class="form-control" readonly value="Ramirez">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Dirección:</label>
                        <div class="col-lg-9">
                            <input type="text" class="form-control" readonly value="Ramirez">
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-md-offset-2 col-md-5">  
                <form class="form-horizontal">
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Contacto:</label>
                        <div class="col-lg-9">
                            <input type="text" class="form-control" readonly value="Pepe">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Distribuidor:</label>
                        <div class="col-lg-9">
                            <input type="text" class="form-control" readonly value="Ramirez">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Dirección:</label>
                        <div class="col-lg-9">
                            <input type="text" class="form-control" readonly value="Ramirez">
                        </div>
                    </div>
                </form>

            </div>
        </div>
        

        <div class="panel panel-warning">
            <div class="panel-heading">
                <h3 class="panel-title">Incidencias Activas</h3>
            </div>
            <div class="panel-body">
                <table class="table table-striped table-hover ">
                    <thead>
                        <tr>
                            <th>Fecha/Hora</th>
                            <th>Descripción</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eligendi accusamus dolorem, reiciendis blanditiis dolores unde! Veritatis nobis fugit voluptatem ratione in rem alias architecto quae veniam, facere non earum voluptas.</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eligendi accusamus dolorem, reiciendis blanditiis dolores unde! Veritatis nobis fugit voluptatem ratione in rem alias architecto quae veniam, facere non earum voluptas.</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eligendi accusamus dolorem, reiciendis blanditiis dolores unde! Veritatis nobis fugit voluptatem ratione in rem alias architecto quae veniam, facere non earum voluptas.</td>
                        </tr>
                    </tbody>
                </table> 
            </div>
        </div>

    </modal-content>

    <modal-footer>

    </modal-footer>

</modal>